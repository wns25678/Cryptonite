<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #map_canvas { height: 100% }
    </style>
    <script type="text/javascript"
      src="http://maps.googleapis.com/maps/api/js?sensor=false">
    </script>
    <script type="text/javascript">
    var map;
	var LatLng = {lat: 37.56, lng: 126.97};
	var marker;
	var circle;
	var radius=200;
	var SWLatLng = {lat: 37.2089, lng: 126.97603};
	var myLatLng = {lat: 37.503392, lng: 127.0432756};
	
      function initialize() {
	  
        var myOptions = {
          center: LatLng,
          zoom: 15,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
		
        map = new google.maps.Map(document.getElementById("map_canvas"),
            myOptions);
			
		marker = new google.maps.Marker({
		position :LatLng,
		map:map
		});
		
		circle = new google.maps.Circle({
			strokeColor: '#000000',
			strokeWeight: 2,
			fillColor: '#00FF00',
			fillOpacity: 0.2,
			map: map,
			center: LatLng,
			radius: radius
		});
		
		addcircleListener();
		
		map.addListener('click', function(e) {
			marker.setMap(null);
			circle.setMap(null);
			LatLng = e.latLng;
			setlatLng(LatLng);
			
			marker = new google.maps.Marker({
				position: LatLng,
				map: map
			});
			
			circle = new google.maps.Circle({
			strokeColor: '#000000',
			strokeWeight: 2,
			fillColor: '#00FF00',
			fillOpacity: 0.2,
			map: map,
			center: LatLng,
			radius: radius
			});
			
			addcircleListener();
		});
		
      }
	  
	  function addcircleListener() {
		circle.addListener('click', function(e) {
			marker.setMap(null);
			circle.setMap(null);
			LatLng = e.latLng;
			setlatLng(LatLng);
			
			marker = new google.maps.Marker({
				position: LatLng,
				map: map
			});
			
			circle = new google.maps.Circle({
			strokeColor: '#000000',
			strokeWeight: 2,
			fillColor: '#00FF00',
			fillOpacity: 0.2,
			map: map,
			center: LatLng,
			radius: radius
			});
			
			addcircleListener();
		});
	  }
	  
	  function setlatLng(location) {
		document.getElementById('lat').value = location.lat();
		document.getElementById('Lng').value = location.lng();
	  }
	  
	  function setradius(r) {
		radius = r;
		circle.setMap(null);
		circle = new google.maps.Circle({
			strokeColor: '#000000',
			strokeWeight: 2,
			fillColor: '#00FF00',
			fillOpacity: 0.2,
			map: map,
			center: LatLng,
			radius: radius
		});
		
		addcircleListener();
	  }
	  

    </script>
  </head>
  <body onload="initialize()">
    <div id="map_canvas" style="width:100%; height:100%"></div>
	<input type="hidden" id="lat" value="37.56"/>
	<input type="hidden" id="Lng" value="126.97"/>
	<input type="hidden" id="radius" value="200"/>

  </body>
</html> 